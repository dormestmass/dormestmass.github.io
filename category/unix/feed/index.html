<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Dormestmass Blog &#187; *NIX-like OS</title>
	<atom:link href="http://oldie.ronix.net.ua/category/unix/feed" rel="self" type="application/rss+xml" />
	<link>http://oldie.ronix.net.ua</link>
	<description>Админ — это состояние души</description>
	<lastBuildDate>Thu, 14 May 2015 09:03:12 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.3</generator>
	<item>
		<title>Calibre: читаем книги в Linux</title>
		<link>http://oldie.ronix.net.ua/2011/01/calibre-chitaem-knigi-v-linux.html</link>
		<comments>http://oldie.ronix.net.ua/2011/01/calibre-chitaem-knigi-v-linux.html#comments</comments>
		<pubDate>Wed, 05 Jan 2011 14:13:51 +0000</pubDate>
		<dc:creator><![CDATA[ronix]]></dc:creator>
				<category><![CDATA[*NIX-like OS]]></category>
		<category><![CDATA[Десктоп]]></category>
		<category><![CDATA[calibre]]></category>
		<category><![CDATA[epub]]></category>
		<category><![CDATA[fb2]]></category>
		<category><![CDATA[linux]]></category>
		<category><![CDATA[читалка]]></category>

		<guid isPermaLink="false">http://blog.ronix.net.ua/?p=350</guid>
		<description><![CDATA[Пару лет назад я опубликовал пост Читалка fb2 для linux. Откровенно говоря, описанные там программы не впечатляют. Так, третий сорт —не брак. Я же, со временем, книжки на десктопе перестал читать вообще, пользуясь телефоном с WinMobile. А недавно приобрел для этих целей читалку с электронными чернилами. Но не об этом речь. Меня заинтересовал формат ePub, &#8230; <a href="http://oldie.ronix.net.ua/2011/01/calibre-chitaem-knigi-v-linux.html" class="more-link">Continue reading <span class="screen-reader-text">Calibre: читаем книги в Linux</span></a>]]></description>
				<content:encoded><![CDATA[<p>Пару лет назад я опубликовал пост <a href="http://oldie.ronix.net.ua/2008/09/fb2-linux.html" target="_self">Читалка fb2 для linux</a>. Откровенно говоря, описанные там программы не впечатляют. Так, третий сорт —не брак. Я же, со временем, книжки на десктопе перестал читать вообще, пользуясь телефоном с WinMobile. А недавно приобрел для этих целей читалку с электронными чернилами. Но не об этом речь. Меня заинтересовал формат ePub, и в процессе поиска удобноваримого конвертора fb2↔ePub, я нашел совершенно удивительную программку под названием <a href="http://calibre-ebook.com/" target="_blank">Calibre</a>. И она мне настолько понравилась, что я даже переборол свою лень и теперь пишу эту заметку.</p>
<p>Разработчики Calibre позиционируют свое творение как «One stop solution to all your e-book needs». И я с ними совершенно согласен. Это не просто читалка. Это менеджер электронных книг, имеющий встроенный конвертор и умеющий работать напрямую со многими типами eBook Reader. Программа кростплатформенна, поскольку написана на python, имеет инсталляторы под MacOS, Windows и Linux.<span id="more-439"></span></p>
<p><a href="http://picasaweb.google.com/lh/photo/i95ixhAiwWSAy79-TlWKim3SD2Gx7Z0Wo2TQwHh2mf4?feat=embedwebsite"><img src="http://lh4.ggpht.com/_nPz_6SGR8VM/TSRzU67ghWI/AAAAAAAACpY/UQ8RriQXKCU/s400/5.png" alt="" width="400" height="243" /></a></p>
<p>Впрочем, установка её под Linux происходит несколько необычно. Вместо привычного пакета в формате .deb или .rpm, разработчики предлагают сгрузить бинарный инсталлятор вот таким вот образом:</p>
<pre>sudo python -c "import urllib2; exec urllib2.urlopen('http://status.calibre-ebook.com/linux_installer').read(); main()"
</pre>
<p>В моей Ubuntu 10.10 данный процесс прошел весьма гладко, не вызвав никаких нареканий. Даже, что особенно приятно, появилась иконка в главном меню Gnome. Впрочем, любители исходников тоже не обижены, для них доступен на скачивание тарболл. Я пробовал пойти и этим путем, но терпения не хватило — нужно было доустановить в систему кучу dev-библиотек, и после очередной ругни на ненайденную либу, у меня просто пропало желание заниматься этой ерундой дальше :).</p>
<p>При первом запуске нам предлагается определиться с местом для хранения библиотеки и с моделью нашего электронного друга - eBook Reader-а.</p>
<p><a href="http://picasaweb.google.com/lh/photo/oAvYlovF2Lu5RztiI2_H-W3SD2Gx7Z0Wo2TQwHh2mf4?feat=embedwebsite"><img src="http://lh3.ggpht.com/_nPz_6SGR8VM/TSR4eK6W8CI/AAAAAAAACpc/v9HfH3EfFSg/s400/1.png" alt="" width="400" height="294" /></a></p>
<p>Дальше остается лишь закинуть книжки и читать, читать, читать… Работать со встроенным просмотрщиком довольно удобно. Все, что могло бы понадобиться мне в процессе чтения, здесь присутствует.</p>
<p><a href="http://picasaweb.google.com/lh/photo/BfzG6yNr6PaMd-jgfVRw6W3SD2Gx7Z0Wo2TQwHh2mf4?feat=embedwebsite"><img src="http://lh4.ggpht.com/_nPz_6SGR8VM/TSR5npBxfsI/AAAAAAAACpg/jfez2PEGGs4/s400/4.png" alt="" width="400" height="311" /></a></p>
<p>Работа конвертора нареканий тоже не вызвала. Единственное, что не попробовал — отправку книжек на eReader, мой девайс просто не поддерживается.</p>
<p>Вообщем-то, всё, что хотел написать, написал. Хочеться сделать лишь вывод. Calibre — это добротно сделанный, user-friendly продукт, ничем не уступающий коммерческому программному обеспечению. Готовый к употреблению и не требующий обработки рашпилем. Побольше бы такого софта в Linux!</p>
]]></content:encoded>
			<wfw:commentRss>http://oldie.ronix.net.ua/2011/01/calibre-chitaem-knigi-v-linux.html/feed</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Адрес отправителя из командной строки</title>
		<link>http://oldie.ronix.net.ua/2007/01/blog-post.html</link>
		<comments>http://oldie.ronix.net.ua/2007/01/blog-post.html#comments</comments>
		<pubDate>Fri, 05 Jan 2007 05:08:52 +0000</pubDate>
		<dc:creator><![CDATA[ronix]]></dc:creator>
				<category><![CDATA[*NIX-like OS]]></category>
		<category><![CDATA[mail]]></category>
		<category><![CDATA[utilites]]></category>
		<category><![CDATA[почта]]></category>

		<guid isPermaLink="false">http://blog.ronix.net.ua/?p=22</guid>
		<description><![CDATA[Столкнулся с необходимостью указать адрес отправителя при отправке почтовых сообщений из скриптов. В штатном mail(x) такой возможности не предусмотрено. Самое быстрое решение, которое нашёл, ? это использовать mutt в режиме эмуляции mailx. echo "set from=from_me@maindomain.com" &#62;&#62; ~/.muttrc echo "set envelope_from=yes" &#62;&#62; ~/.muttrc В скрипте запускаем mutt с ключом -x]]></description>
				<content:encoded><![CDATA[<p>Столкнулся с необходимостью указать адрес отправителя при отправке почтовых сообщений из скриптов.</p>
<p>В штатном <span style="font-weight: bold;">mail(x)</span> такой возможности не предусмотрено. Самое быстрое решение, которое нашёл, ? это использовать <span style="font-weight: bold;">mutt</span> в режиме эмуляции <span style="font-weight: bold;">mailx</span>.</p>
<pre>echo "set from=from_me@maindomain.com" &gt;&gt; ~/.muttrc
echo "set envelope_from=yes" &gt;&gt; ~/.muttrc
</pre>
<p>В скрипте запускаем <span style="font-weight: bold;">mutt</span> с ключом <span style="font-weight: bold;">-x</span></p>
]]></content:encoded>
			<wfw:commentRss>http://oldie.ronix.net.ua/2007/01/blog-post.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Squid и LDAP-аутентификация из Active Directory</title>
		<link>http://oldie.ronix.net.ua/2006/10/squid-ldap-active-directory.html</link>
		<comments>http://oldie.ronix.net.ua/2006/10/squid-ldap-active-directory.html#comments</comments>
		<pubDate>Wed, 18 Oct 2006 20:37:30 +0000</pubDate>
		<dc:creator><![CDATA[ronix]]></dc:creator>
				<category><![CDATA[*NIX-like OS]]></category>
		<category><![CDATA[Безопасность]]></category>
		<category><![CDATA[Сети]]></category>
		<category><![CDATA[active directory]]></category>
		<category><![CDATA[basic-auth]]></category>
		<category><![CDATA[ldap]]></category>
		<category><![CDATA[squid]]></category>
		<category><![CDATA[авторизация]]></category>
		<category><![CDATA[аутентификация]]></category>

		<guid isPermaLink="false">http://blog.ronix.net.ua/?p=17</guid>
		<description><![CDATA[Сегодня возникла необходимость аутентифицировать пользователей на прокси. Поскольку все они уже имеют учётные записи в ActiveDirectory, то было решено брать информацию оттуда. Сразу оговорюсь, строил basic аутентификацию, т.к. посмотрев на танцы с бубнами вокруг ntlm-authentication &#38; kerberos &#38; AD, решил что овчинка не стоит выделки. Подобную схему аутентификации при минимальных переделках можно применить к любому &#8230; <a href="http://oldie.ronix.net.ua/2006/10/squid-ldap-active-directory.html" class="more-link">Continue reading <span class="screen-reader-text">Squid и LDAP-аутентификация из Active Directory</span></a>]]></description>
				<content:encoded><![CDATA[<p>Сегодня возникла необходимость аутентифицировать пользователей на прокси. Поскольку все они уже имеют учётные записи в ActiveDirectory, то было решено брать информацию оттуда.</p>
<p>Сразу оговорюсь, строил basic аутентификацию, т.к. посмотрев на танцы с бубнами вокруг ntlm-authentication &amp; kerberos &amp; AD, решил что овчинка не стоит выделки.</p>
<p>Подобную схему аутентификации при минимальных переделках можно применить к любому дереву каталогов, например к Novell eDirectory или Netscape Directory Server...</p>
<p>В системе должены быть установлены библиотеки openldap для последующей сборки squid.<br />
Сам squid должен быть собран с поддержкой basic аутентификации и внешних групп в LDAP. Ключи для конфигурации при ручной сборке:</p>
<pre>... --enable-basic-auth-helpers=LDAP --enable-external-acl-helpers=ldap_group ...
</pre>
<p>Наш домен в Active Directory называеться domain.com.</p>
<p>Для начала заведём в дерево несколько групп, пользователи которых могут ходить в интернет. Почему несколько - вхождение в ту или иную группу определяет delay pool в squid. Скажем inet_64k, inet_128k и inet_1024k. Для отладки делаем тестового пользователя test_inet c паролем 123456, и включаем его в группу inet_64k.</p>
<p>Для работы с каталогом нам необходим пользователь, в нём зарегистрированный и умеющий читать оттуда хэши с паролями. Применительнительно к Active Directory нам нужен обыкновенный юзер без особых привилегий :). В Novell eDirectory или Netscape Directory такая шутка уже не прокатит и пользователю нужно будет присвоить некие привилегии для чтения паролей. Обозвём этого пользователя для примера squidreader.</p>
<p>Теперь проверяем на доступность каталога под вышеуказанным пользователем.</p>
<pre>ldapsearch -D "squidreader@domain.com" -x -W -b "dc=domain,dc=com" -h 192.168.1.1
</pre>
<p>В результате выпольнения команды мы должны получить содержимое нашего АД.</p>
<p><span id="more-354"></span></p>
<p>Маленькое отступление. Для соединения с каталогом мы должны указать Distinguished Name, под которым мы его будем читать. Так вот, в отличии от нормальных LDAP каталогов, DN в Microsoft Active Directory мы можем извратиться, указав его как "squidreader@domain.com", либо же указать в нормальном виде как "cn=squidreader,dc=domain,dc=com".</p>
<p>Дальше проверяем работу работу компонентов squid. Создаём файл с паролем к учётной записи, которой мы читаем, к примеру он будет /usr/local/etc/squid/adpw.txt.</p>
<p>Сначала проверяем группы.</p>
<pre>/usr/local/libexec/squid/squid_ldap_group -R -b "dc=domain,dc=com" -f 
"(&amp;(sAMAccountName=%v)(memberOf=cn=%a,dc=domain,dc=com))" -D squidreader@domain.com -W 
/usr/local/etc/squid/adpw.txt 192.168.1.1
</pre>
<p>В качестве запроса вводим строку в формате:</p>
<pre>имя_пользователя группа_пользователя</pre>
<p>Ответом будет либо "ОК", либо "ERR". В нашем случае это будет "test_inet inet_64k".<br />
Естессно, что если у нас всё правильно работает, то ответ будет "ОК".</p>
<p>Дальше проверяем аутентификацию.</p>
<pre>/usr/local/libexec/squid/squid_ldap_auth -R -D squidreader@domain.com -W 
/usr/local/etc/squid/adpw.txt -b "dc=domain,dc=com" -f "sAMAccountName=%s" 
192.168.1.1
</pre>
<p>В качестве запроса вводим строку в формате:</p>
<pre>имя_пользователя пароль</pre>
<p>Ответы такие же как и в прошлом случае. Вводим "test_inet 123456" и ждём ответа "ОК" :).</p>
<p>Теперь конфигурим сам squid.</p>
<p>Аутентификатор:</p>
<pre>auth_param basic program /usr/local/libexec/squid/squid_ldap_auth -R -D 
squidreader@domain.com -W /usr/local/etc/squid/adpw.txt -b "dc=domain,dc=com" -f 
"sAMAccountName=%s" 192.168.1.1
</pre>
<p>Внешняя группа:</p>
<pre>external_acl_type ldap_users %LOGIN /usr/local/libexec/squid/squid_ldap_group -R -b 
"dc=domain,dc=com" -f "(&amp;(cn=%v)(memberOf=cn=%a,dc=domain,dc=com 
))" -D squidreader@domain.com -W /usr/local/etc/squid/adpw.txt 192.168.1.1
</pre>
<p>Параметр %LOGIN в описании внешней группы указывает на то, перед проверкой на вхождение в эту группу, пользователя необходимо аутентифицировать.</p>
<p>Описание ACL:</p>
<pre>acl ad64 external ldap_users inet_64k
acl ad128 external ldap_users inet_128k
acl ad1024 external ldap_users inet_1024k
</pre>
<p>Ну и последние штрихи - разрешаем данным ACL ходить в интернет и добавляем их в delay pool.</p>
<pre>...
http_access allow ad128
...
delay_class 3 1
delay_access 3 allow ad128
delay_access 3 deny all
...
</pre>
]]></content:encoded>
			<wfw:commentRss>http://oldie.ronix.net.ua/2006/10/squid-ldap-active-directory.html/feed</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>sendmail и копирование почты</title>
		<link>http://oldie.ronix.net.ua/2006/08/sendmail.html</link>
		<comments>http://oldie.ronix.net.ua/2006/08/sendmail.html#comments</comments>
		<pubDate>Thu, 31 Aug 2006 20:17:08 +0000</pubDate>
		<dc:creator><![CDATA[ronix]]></dc:creator>
				<category><![CDATA[*NIX-like OS]]></category>
		<category><![CDATA[Безопасность]]></category>
		<category><![CDATA[mail]]></category>
		<category><![CDATA[mta]]></category>
		<category><![CDATA[sendmail]]></category>
		<category><![CDATA[копирование]]></category>
		<category><![CDATA[почта]]></category>

		<guid isPermaLink="false">http://blog.ronix.net.ua/?p=10</guid>
		<description><![CDATA[Переношу почтовый сервер на новое железо. Наша служба информационной безопасности страстно желает иметь копии всех писем, которые проходят через сервер. На старом сервере использовал milter-bcc. Решил поставить его-же на новый. Да вот незадача, компилятор в новой системе (Fedora Core 5) - gcc 4.1. Под ним ентот мильтер-бцц напрочь отказался собираться, ставить другой компилер из-за такой &#8230; <a href="http://oldie.ronix.net.ua/2006/08/sendmail.html" class="more-link">Continue reading <span class="screen-reader-text">sendmail и копирование почты</span></a>]]></description>
				<content:encoded><![CDATA[<p>Переношу почтовый сервер на новое железо.</p>
<p>Наша служба информационной безопасности страстно желает иметь копии всех<br />
писем, которые проходят через сервер.</p>
<p>На старом сервере использовал milter-bcc. Решил поставить его-же на новый.</p>
<p>Да вот незадача, компилятор в новой системе (Fedora Core 5) - gcc 4.1. Под ним ентот мильтер-бцц напрочь отказался собираться, ставить другой компилер из-за такой фигни неохота.</p>
<p>Для начала решил обновить версию milter-bcc. Полез к ним на сайт и с прискорбием<br />
узнал, что разработчики хотят 60 euro !!! <img src="http://oldie.ronix.net.ua/wp-includes/images/smilies/frownie.png" alt=":(" class="wp-smiley" style="height: 1em; max-height: 1em;" /> за новую версию.</p>
<p>Решил пойти другим путём.</p>
<p>После непродолжительного рытья в гугле откопал вот <noindex><a rel="nofollow" href="http://404.salut.ru/docs/sendmail">такую статейку</a></noindex>. За что её автору огромный thanks!</p>
<p>Подкорректировал /etc/init.d/sendmail и вуаля - всё заработало.</p>
]]></content:encoded>
			<wfw:commentRss>http://oldie.ronix.net.ua/2006/08/sendmail.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Защита служб, которые не поддерживают работу с SSL</title>
		<link>http://oldie.ronix.net.ua/2006/07/ssl.html</link>
		<comments>http://oldie.ronix.net.ua/2006/07/ssl.html#comments</comments>
		<pubDate>Thu, 27 Jul 2006 19:38:08 +0000</pubDate>
		<dc:creator><![CDATA[ronix]]></dc:creator>
				<category><![CDATA[*NIX-like OS]]></category>
		<category><![CDATA[Безопасность]]></category>
		<category><![CDATA[Сети]]></category>
		<category><![CDATA[ssl]]></category>
		<category><![CDATA[stunnel]]></category>
		<category><![CDATA[сертификаты]]></category>
		<category><![CDATA[утилиты]]></category>

		<guid isPermaLink="false">http://blog.ronix.net.ua/?p=4</guid>
		<description><![CDATA[Сегодня довелось поднять Pop3S. Не мудрствуя лукаво с перекомпиляцией POP3 сервера для включения поддержки SSL, сделал это при помощи stunnel. Для работы нужен собственно сам stunnel и сертификат. Сертификат создал самым простым образом: # cat myconfig [req] default_bits=2048 default_keyfile=key.pem distinguished_name=req_distinguished_name prompt=no [req_distinguished_name] C=UA ST=Zaporozhskaya L=Zaporozhye O=My Organization OU=IT CN=mail.domain.zp.ua emailAddress=netmaster@domain.zp.ua host# openssl genrsa -out key.pem &#8230; <a href="http://oldie.ronix.net.ua/2006/07/ssl.html" class="more-link">Continue reading <span class="screen-reader-text">Защита служб, которые не поддерживают работу с SSL</span></a>]]></description>
				<content:encoded><![CDATA[<p>Сегодня довелось поднять Pop3S. Не мудрствуя лукаво с перекомпиляцией POP3 сервера для включения поддержки SSL, сделал это при помощи stunnel.</p>
<p>Для работы нужен собственно сам stunnel и сертификат. Сертификат создал самым простым образом:</p>
<pre># cat myconfig
[req]
default_bits=2048
default_keyfile=key.pem
distinguished_name=req_distinguished_name
prompt=no
[req_distinguished_name]
C=UA
ST=Zaporozhskaya
L=Zaporozhye
O=My Organization
OU=IT
CN=mail.domain.zp.ua
emailAddress=netmaster@domain.zp.ua

host# openssl genrsa -out key.pem -rand /var/log/messages 2048
host# openssl req -x509 -new -key key.pem -config myconf -out cert.pem
</pre>
<p>Конфигурационный файл для stunnel:</p>
<pre># cat stunnel.conf
client=no
cert=/root/keys/pop3s/cert.pem
key=/root/keys/pop3s/key.pem
pid=
[pop3s]
accept = 995
connect = 110
</pre>
<p>Запускаю  stunnel:</p>
<pre># stunnel stunnel.conf
</pre>
<p>И вуаля:</p>
<pre># netstat -anlp | grep 995
tcp 0     0 0.0.0.0:995    0.0.0.0:*   LISTEN     31301/stunnel
</pre>
]]></content:encoded>
			<wfw:commentRss>http://oldie.ronix.net.ua/2006/07/ssl.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>
<!-- Wp Fastest Cache: XML Content -->